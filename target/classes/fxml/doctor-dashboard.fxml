<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.healthcare.controller.DoctorDashboardController">
   <top>
      <!-- Header -->
      <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-background-color: #2E86AB; -fx-padding: 15;">
         <children>
            <Label text="ðŸ¥ Healthcare Management System" textFill="WHITE">
               <font>
                  <Font name="System Bold" size="18.0" />
               </font>
            </Label>
            <Region HBox.hgrow="ALWAYS" />
            <Label fx:id="welcomeLabel" text="Welcome, Doctor" textFill="WHITE">
               <font>
                  <Font name="System Bold" size="14.0" />
               </font>
            </Label>
            <Label fx:id="userRoleLabel" text="Role: Doctor" textFill="WHITE">
               <font>
                  <Font size="12.0" />
               </font>
            </Label>
            <Button text="Logout" style="-fx-background-color: #E74C3C; -fx-text-fill: white; -fx-background-radius: 3;" onAction="#handleLogout">
               <font>
                  <Font size="12.0" />
               </font>
            </Button>
         </children>
      </HBox>
   </top>
   
   <left>
      <!-- Navigation Sidebar -->
      <VBox spacing="15" style="-fx-background-color: #F8F9FA; -fx-padding: 20;" minWidth="200">
         <children>
            <Label text="Doctor Dashboard" textFill="#2E86AB">
               <font>
                  <Font name="System Bold" size="16.0" />
               </font>
            </Label>
            <Separator />
            
            <Button fx:id="dashboardButton" text="ðŸ“Š Dashboard/Home" maxWidth="Infinity" onAction="#showDashboard">
            </Button>
            
            <Button fx:id="patientManagementButton" text="ðŸ‘¥ My Patients" maxWidth="Infinity" onAction="#showPatientManagement">
            </Button>
            
            <Button fx:id="prescriptionsButton" text="ðŸ’Š Prescriptions" maxWidth="Infinity" onAction="#showPrescriptions">
            </Button>
            
            <Button fx:id="reportsButton" text="ðŸ“ˆ Reports" maxWidth="Infinity" onAction="#showReports">
            </Button>
            
            <Button fx:id="medicinesButton" text="ðŸ’Š Medicines" maxWidth="Infinity" onAction="#showMedicines">
            </Button>
         </children>
      </VBox>
   </left>
   
   <center>
      <!-- Main Content Area -->
      <ScrollPane fitToWidth="true" fitToHeight="true">
         <content>
            <VBox fx:id="mainContentArea" spacing="20" style="-fx-padding: 30;">
               <children>
                  <!-- Dashboard Overview -->
                  <VBox fx:id="dashboardContent" spacing="20">
                     <children>
                        <Label text="Doctor Dashboard Overview" textFill="#2E86AB">
                           <font>
                              <Font name="System Bold" size="20.0" />
                           </font>
                        </Label>
                        
                        <!-- Statistics Cards -->
                        <GridPane hgap="20" vgap="20">
                           <columnConstraints>
                              <ColumnConstraints minWidth="200" />
                              <ColumnConstraints minWidth="200" />
                              <ColumnConstraints minWidth="200" />
                              <ColumnConstraints minWidth="200" />
                           </columnConstraints>
                           <rowConstraints>
                              <RowConstraints minHeight="120" />
                           </rowConstraints>
                           <children>
                              <!-- Total Patients Card -->
                              <VBox alignment="CENTER" spacing="10" style="-fx-background-color: #E8F4FD; -fx-padding: 20; -fx-border-color: #2E86AB; -fx-border-width: 1; -fx-border-radius: 5;" GridPane.columnIndex="0">
                                 <children>
                                    <Label text="ðŸ‘¥" style="-fx-font-size: 30px;" />
                                    <Label fx:id="totalResidentsLabel" text="0" textFill="#2E86AB">
                                       <font>
                                          <Font name="System Bold" size="24.0" />
                                       </font>
                                    </Label>
                                    <Label text="Total Patients" textFill="#2E86AB">
                                       <font>
                                          <Font size="12.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </VBox>
                              
                              <!-- My Patients Card -->
                              <VBox alignment="CENTER" spacing="10" style="-fx-background-color: #E8F5E8; -fx-padding: 20; -fx-border-color: #2ECC71; -fx-border-width: 1; -fx-border-radius: 5;" GridPane.columnIndex="1">
                                 <children>
                                    <Label text="ðŸ‘¨â€âš•ï¸" style="-fx-font-size: 30px;" />
                                    <Label fx:id="myPatientsLabel" text="0" textFill="#2ECC71">
                                       <font>
                                          <Font name="System Bold" size="24.0" />
                                       </font>
                                    </Label>
                                    <Label text="My Patients" textFill="#2ECC71">
                                       <font>
                                          <Font size="12.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </VBox>
                              
                              <!-- Today's Appointments Card -->
                              <VBox alignment="CENTER" spacing="10" style="-fx-background-color: #FDF2E8; -fx-padding: 20; -fx-border-color: #F18F01; -fx-border-width: 1; -fx-border-radius: 5;" GridPane.columnIndex="2">
                                 <children>
                                    <Label text="ðŸ“…" style="-fx-font-size: 30px;" />
                                    <Label fx:id="todaysAppointmentsLabel" text="0" textFill="#F18F01">
                                       <font>
                                          <Font name="System Bold" size="24.0" />
                                       </font>
                                    </Label>
                                    <Label text="Today's Appointments" textFill="#F18F01">
                                       <font>
                                          <Font size="12.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </VBox>
                              
                              <!-- Pending Prescriptions Card -->
                              <VBox alignment="CENTER" spacing="10" style="-fx-background-color: #F3E8FD; -fx-padding: 20; -fx-border-color: #9B59B6; -fx-border-width: 1; -fx-border-radius: 5;" GridPane.columnIndex="3">
                                 <children>
                                    <Label text="ðŸ’Š" style="-fx-font-size: 30px;" />
                                    <Label fx:id="pendingPrescriptionsLabel" text="0" textFill="#9B59B6">
                                       <font>
                                          <Font name="System Bold" size="24.0" />
                                       </font>
                                    </Label>
                                    <Label text="Pending Prescriptions" textFill="#9B59B6">
                                       <font>
                                          <Font size="12.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </VBox>
                           </children>
                        </GridPane>
                        
                        <!-- Quick Actions -->
                        <VBox spacing="15">
                           <children>
                              <Label text="Quick Actions" textFill="#2E86AB">
                                 <font>
                                    <Font name="System Bold" size="16.0" />
                                 </font>
                              </Label>
                              
                              <HBox spacing="15">
                                 <children>
                                    <Button text="ðŸ‘¥ View My Patients" style="-fx-background-color: #2ECC71; -fx-text-fill: white; -fx-background-radius: 5; -fx-padding: 10;" onAction="#showPatientManagement">
                                       <font>
                                          <Font size="12.0" />
                                       </font>
                                    </Button>
                                    
                                    <Button text="ðŸ’Š Manage Prescriptions" style="-fx-background-color: #9B59B6; -fx-text-fill: white; -fx-background-radius: 5; -fx-padding: 10;" onAction="#showPrescriptions">
                                       <font>
                                          <Font size="12.0" />
                                       </font>
                                    </Button>
                                    
                                    <Button text="ðŸ“ˆ View Reports" style="-fx-background-color: #F18F01; -fx-text-fill: white; -fx-background-radius: 5; -fx-padding: 10;" onAction="#showReports">
                                       <font>
                                          <Font size="12.0" />
                                       </font>
                                    </Button>
                                 </children>
                              </HBox>
                           </children>
                        </VBox>
                        
                        <!-- Recent Activity -->
                        <VBox spacing="15">
                           <children>
                              <Label text="Recent Activity" textFill="#2E86AB">
                                 <font>
                                    <Font name="System Bold" size="16.0" />
                                 </font>
                              </Label>
                              
                              <ListView fx:id="recentActivityList" style="-fx-background-color: #F8F9FA; -fx-border-color: #E0E0E0; -fx-border-width: 1; -fx-border-radius: 5;" maxHeight="200">
                              </ListView>
                           </children>
                        </VBox>
                     </children>
                  </VBox>
                  
                  <!-- Patient Management Content -->
                  <VBox fx:id="patientManagementContent" visible="false" managed="false" spacing="20">
                  </VBox>
                  
                  <!-- Prescriptions Content -->
                  <VBox fx:id="prescriptionsContent" visible="false" managed="false" spacing="20">
                     <children>
                        <fx:include source="/fxml/components/prescription-management.fxml" />
                     </children>
                  </VBox>
                  
                  <!-- Reports Content -->
                  <VBox fx:id="reportsContent" visible="false" managed="false" spacing="20">
                  </VBox>
                  
                  <!-- Medicines Content -->
                  <VBox fx:id="medicinesContent" visible="false" managed="false" spacing="20">
                  </VBox>
               </children>
            </VBox>
         </content>
      </ScrollPane>
   </center>
</BorderPane>