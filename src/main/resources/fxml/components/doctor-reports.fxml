<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox spacing="25" xmlns="http://javafx.com/javafx/11.0.1" 
      xmlns:fx="http://javafx.com/fxml/1" 
      fx:controller="com.healthcare.controller.components.DoctorReportsController"
      style="-fx-padding: 25; -fx-background-color: #ffffff;">
   
   <children>
      <!-- Title -->
      <Label text="ðŸ“ˆ Doctor Reports" textFill="#2E86AB" 
             style="-fx-font-size: 24px; -fx-font-weight: bold;" />

      <!-- Report Cards -->
      <GridPane hgap="20" vgap="20">
         <columnConstraints>
            <ColumnConstraints minWidth="200" hgrow="ALWAYS" />
            <ColumnConstraints minWidth="200" hgrow="ALWAYS" />
            <ColumnConstraints minWidth="200" hgrow="ALWAYS" />
         </columnConstraints>
         <rowConstraints>
            <RowConstraints minHeight="120" />
         </rowConstraints>
         <children>
            <!-- Patient Summary Card -->
            <VBox alignment="CENTER" spacing="10" 
                  style="-fx-background-color: #E8F4FD; -fx-padding: 20; 
                         -fx-border-color: #2E86AB; -fx-border-width: 1; 
                         -fx-border-radius: 8; -fx-background-radius: 8;" 
                  GridPane.columnIndex="0">
               <children>
                  <Label text="ðŸ‘¥" style="-fx-font-size: 32px;" />
                  <Label fx:id="totalPatientsLabel" text="0" textFill="#2E86AB" 
                         style="-fx-font-size: 28px; -fx-font-weight: bold;" />
                  <Label text="Total Patients" textFill="#2E86AB" 
                         style="-fx-font-size: 14px; -fx-font-weight: bold;" />
               </children>
            </VBox>
            
            <!-- Prescriptions Card -->
            <VBox alignment="CENTER" spacing="10" 
                  style="-fx-background-color: #FDF2E8; -fx-padding: 20; 
                         -fx-border-color: #F18F01; -fx-border-width: 1; 
                         -fx-border-radius: 8; -fx-background-radius: 8;" 
                  GridPane.columnIndex="1">
               <children>
                  <Label text="ðŸ’Š" style="-fx-font-size: 32px;" />
                  <Label fx:id="totalPrescriptionsLabel" text="0" textFill="#F18F01" 
                         style="-fx-font-size: 28px; -fx-font-weight: bold;" />
                  <Label text="Total Prescriptions" textFill="#F18F01" 
                         style="-fx-font-size: 14px; -fx-font-weight: bold;" />
               </children>
            </VBox>
            
            <!-- This Month Card -->
            <VBox alignment="CENTER" spacing="10" 
                  style="-fx-background-color: #E8F5E8; -fx-padding: 20; 
                         -fx-border-color: #2ECC71; -fx-border-width: 1; 
                         -fx-border-radius: 8; -fx-background-radius: 8;" 
                  GridPane.columnIndex="2">
               <children>
                  <Label text="ðŸ“…" style="-fx-font-size: 32px;" />
                  <Label fx:id="thisMonthLabel" text="0" textFill="#2ECC71" 
                         style="-fx-font-size: 28px; -fx-font-weight: bold;" />
                  <Label text="This Month" textFill="#2ECC71" 
                         style="-fx-font-size: 14px; -fx-font-weight: bold;" />
               </children>
            </VBox>
         </children>
      </GridPane>

      <!-- Quick Actions -->
      <VBox spacing="15">
         <children>
            <Label text="Quick Actions" textFill="#2E86AB" 
                   style="-fx-font-size: 18px; -fx-font-weight: bold;" />
            
            <HBox spacing="15" alignment="CENTER_LEFT">
               <children>
                  <Button fx:id="patientReportButton" text="ðŸ‘¥ Patient Report" 
                          style="-fx-background-color: #2ECC71; -fx-text-fill: white; 
                                 -fx-background-radius: 8; -fx-padding: 12 24; 
                                 -fx-font-weight: bold; -fx-font-size: 14px;" 
                          onAction="#generatePatientReport" />
                  
                  <Button fx:id="prescriptionReportButton" text="ðŸ’Š Prescription Report" 
                          style="-fx-background-color: #F18F01; -fx-text-fill: white; 
                                 -fx-background-radius: 8; -fx-padding: 12 24; 
                                 -fx-font-weight: bold; -fx-font-size: 14px;" 
                          onAction="#generatePrescriptionReport" />
                  
                  <Button fx:id="monthlyReportButton" text="ðŸ“… Monthly Report" 
                          style="-fx-background-color: #9B59B6; -fx-text-fill: white; 
                                 -fx-background-radius: 8; -fx-padding: 12 24; 
                                 -fx-font-weight: bold; -fx-font-size: 14px;" 
                          onAction="#generateMonthlyReport" />
                  
                  <Button fx:id="refreshReportsButton" text="ðŸ”„ Refresh" 
                          style="-fx-background-color: #3498DB; -fx-text-fill: white; 
                                 -fx-background-radius: 8; -fx-padding: 12 24; 
                                 -fx-font-weight: bold; -fx-font-size: 14px;" 
                          onAction="#refreshReports" />
               </children>
            </HBox>
         </children>
      </VBox>
      
      <!-- Reports Section -->
      <VBox spacing="15">
         <children>
            <Label text="ðŸ“Š Available Reports" textFill="#34495E" 
                   style="-fx-font-size: 18px; -fx-font-weight: bold;" />
            
            <ListView fx:id="reportsListView" prefHeight="300" 
                      style="-fx-border-color: #dfe6e9; -fx-border-width: 1; 
                             -fx-background-radius: 8; -fx-border-radius: 8;">
            </ListView>
         </children>
      </VBox>
   </children>
</VBox>
